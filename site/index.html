<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ManagerX | Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <canvas id="particleCanvas"></canvas>

    <nav>
        <div class="logo">ManagerX</div>
        <div class="links">
            <a href="index.html">Home</a>
            <a href="#stats">Stats</a>
            <a href="https://discord.com/oauth2/authorize?client_id=1401881188242821142&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A5500%2Fsite%2Fcallback.html&scope=identify+guilds" class="btn-primary">Login</a>
        </div>
    </nav>

    <header class="hero">
        <h1>ManagerX Dashboard</h1>
        <p>Live-Statistiken deines Discord-Bots.</p>
        <div id="login-message" style="display: none; background: rgba(255,0,0,0.1); border: 1px solid #ff4444; padding: 10px; border-radius: 8px; margin-top: 20px;">
            <strong>ðŸ”„ Ausgeloggt:</strong> Deine Sitzung ist abgelaufen. Bitte logge dich neu ein.
        </div>
    </header>

    <section id="stats" class="stats-container">
        <div class="stat-card">
            <div class="stat-value" id="server-count">0</div>
            <div class="stat-label">Server</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="user-count">0</div>
            <div class="stat-label">Nutzer</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="bot-ping">--ms</div>
            <div class="stat-label">Latenz (Ping)</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="bot-status">Offline</div>
            <div class="stat-label">System-Status</div>
        </div>
    </section>

    <footer>
        <p>&copy; 2024-2025 OPPRO.NET Development</p>
    </footer>

    <script src="js/particles.js"></script>
    <script src="js/api.js"></script>
    <script>
        // Stats beim Laden laden
        document.addEventListener('DOMContentLoaded', () => {
            loadBotStats();
            
            // PrÃ¼fen, ob User ausgeloggt wurde
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('logged_out') === 'true') {
                const message = document.getElementById('login-message');
                message.style.display = 'block';
                // Nachricht nach 5 Sekunden ausblenden
                setTimeout(() => {
                    message.style.display = 'none';
                }, 5000);
            }
        });
    </script>
</body>
</html>