<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>ManagerX - Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/api.js" defer></script>
    <script src="js/particles.js" defer></script>
</head>
<body>
    <canvas id="particleCanvas"></canvas>

    <nav>
        <div class="nav-content">
            <div class="logo">ManagerX</div>
            <div class="links">
                <a href="index.html">Startseite</a>
                <div id="user-profile" class="user-profile"></div>
            </div>
        </div>
    </nav>

    <main class="container">
        <div class="hero">
            <h1>Server Dashboard</h1>
            <p>WÃ¤hle einen Server aus, um die Einstellungen zu verwalten</p>
        </div>

        <section id="server-selection" class="glass-card">
            <h2>ðŸŽ¯ Deine Server</h2>
            <p>Nur Server mit Administrator-Rechten werden angezeigt.</p>
            <div id="guild-list" class="guild-grid"></div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Partikel initialisieren
            if (typeof initParticles === 'function') {
                initParticles();
            }

            // User-Info laden
            const userInfo = JSON.parse(localStorage.getItem('user_info') || '{}');
            if (userInfo.username) {
                const profile = document.getElementById('user-profile');
                profile.innerHTML = `
                    <img src="https://cdn.discordapp.com/avatars/${userInfo.id}/${userInfo.avatar}.png" alt="${userInfo.username}" style="width: 32px; height: 32px; border-radius: 50%; margin-right: 10px;">
                    ${userInfo.username}
                `;
            }

            // Server laden
            if (typeof loadGuilds === 'function') {
                loadGuilds();
            }
        });
    </script>
</body>
</html>